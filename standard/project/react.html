<!DOCTYPE html>
<html lang="zh-cn">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>React&JSX 书写规范 | 个人博客</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://zuojiangtao.github.io/standard/project/react.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="zh-cn" href="https://zuojiangtao.github.io/standard/project/react">
    
      <link rel="alternative" hreflang="en" href="https://zuojiangtao.github.io/en/standard/project/react">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  
<link rel="stylesheet" href="/css/navy.css">

  <!-- endbuild -->
  <link rel="stylesheet" href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-w/font-awesome/4.7.0/css/font-awesome.min.css">
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/" id="logo">H3C</a>
    </h1>
    <nav id="main-nav">
      <a href="/standard/" class="main-nav-link">开发规范</a><a href="/design/" class="main-nav-link">开发指南</a><a href="/ecology/" class="main-nav-link">前沿生态</a><a href="/util/" class="main-nav-link">开发工具</a>
    </nav>
    <div id="github-icon-link">
      <a href="https://github.com/Zuojiangtao" rel="external nofollow noreferrer" class="icon" target="_blank"><i class="fa fa-github"></i></a>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">React&JSX 书写规范</h1>
                <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Zuojiangtao/Zuojiangtao.github.io/tree/master/source/standard/project/react.md" class="article-edit-link" title="改进本文"><i class="fa fa-pencil"></i></a>
              </header>
              <div class="article-content" itemprop="articleBody">
                <h2 id="React-amp-JSX-书写规范" class="article-heading"><a href="#React-amp-JSX-书写规范" class="headerlink" title="React&amp;JSX 书写规范"></a>React&amp;JSX 书写规范<a class="article-anchor" href="#React-amp-JSX-书写规范" aria-hidden="true"></a></h2><blockquote>
<p>本规范基本基于标准的 JavaScript 语法规范</p>
</blockquote>
<h3 id="基本规则" class="article-heading"><a href="#基本规则" class="headerlink" title="基本规则"></a>基本规则<a class="article-anchor" href="#基本规则" aria-hidden="true"></a></h3><ul>
<li>每个文件只包含一个 React 类组件<ul>
<li>但是多个函数式组件可以放到一个文件中，eslint: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-multi-comp.md#ignorestateless">react&#x2F;no-multi-comp</a></li>
</ul>
</li>
<li>一般使用 JSX 语法</li>
<li>除非是在非 JSX 文件中初始化应用，否则不要使用 <code>React.createElement</code></li>
</ul>
<h3 id="命名规范" class="article-heading"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范<a class="article-anchor" href="#命名规范" aria-hidden="true"></a></h3><ul>
<li>组件文件扩展名</li>
</ul>
<p>如果使用 JavaScript，则文件扩展名为 <code>.js</code>；如果使用 <code>TypeScript</code>，则文件扩展名为 <code>.tsx</code></p>
<ul>
<li>组件文件名</li>
</ul>
<p>如果是组件文件，则使用 PascalCase，如 <code>MyComponent.js</code></p>
<p>如果组件是一个目录，则组件主入口命名为 <code>index</code>，如 <code>index.js</code></p>
<ul>
<li>引用命名</li>
</ul>
<p>React 组件使用 PascalCase，组件实例使用 CamelCase，eslint: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-pascal-case.md">react&#x2F;jsx-pascal-case</a></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> reservationCard <span class="keyword">from</span> <span class="string">&#x27;./ReservationCard&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReservationCard</span> <span class="keyword">from</span> <span class="string">&#x27;./ReservationCard&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ReservationItem</span> = <span class="language-xml"><span class="tag">&lt;<span class="name">ReservationCard</span> /&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> reservationItem = <span class="language-xml"><span class="tag">&lt;<span class="name">ReservationCard</span> /&gt;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li>组件命名</li>
</ul>
<p>使用文件名作为组件名字，例如, <code>ReservationCard.js</code> 应该包含名为 <code>ReservationCard</code> 的引用，然而对于文件夹中的根组件, 使用 <code>index.js</code> 作为文件名，使用文件夹的名字作为组件的名字</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Footer</span> <span class="keyword">from</span> <span class="string">&#x27;./Footer/Footer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Footer</span> <span class="keyword">from</span> <span class="string">&#x27;./Footer/index&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Footer</span> <span class="keyword">from</span> <span class="string">&#x27;./Footer&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>组件属性名</li>
</ul>
<p>React DOM 使用小驼峰式命名法来定义属性的名称，而不使用 HTML 属性名称的命名约定，例如</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&lt;div onClick=&#123;<span class="variable language_">this</span>.<span class="property">handler</span>&#125; /&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Class-Component-VS-Functional-Component" class="article-heading"><a href="#Class-Component-VS-Functional-Component" class="headerlink" title="Class Component VS Functional Component"></a>Class Component VS Functional Component<a class="article-anchor" href="#Class-Component-VS-Functional-Component" aria-hidden="true"></a></h3><p>只允许使用 <code>Class Component</code> 和 <code>Functional Component</code> 两种形态来书写组件，建议尽量使用函数式组件配合 Hooks 来进行开发</p>
<h3 id="对齐" class="article-heading"><a href="#对齐" class="headerlink" title="对齐"></a>对齐<a class="article-anchor" href="#对齐" aria-hidden="true"></a></h3><p>遵循以下JSX语法的对齐风格，eslint: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-closing-bracket-location.md">react&#x2F;jsx-closing-bracket-location</a></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;<span class="title class_">Foo</span> superLongParam=<span class="string">&#x27;bar&#x27;</span></span><br><span class="line">     anotherSuperLongParam=<span class="string">&#x27;baz&#x27;</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">superLongParam</span>=<span class="string">&#x27;bar&#x27;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">anotherSuperLongParam</span>=<span class="string">&#x27;baz&#x27;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">/&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// if props fit in one line then keep it on the same line</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span> <span class="attr">bar</span>=<span class="string">&#x27;bar&#x27;</span> /&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// children get indented normally</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">superLongParam</span>=<span class="string">&#x27;bar&#x27;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">anotherSuperLongParam</span>=<span class="string">&#x27;baz&#x27;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">Quux</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">Foo</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">&#123;showButton &amp;&amp;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Button</span> /&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">&#123;</span><br><span class="line">  showButton &amp;&amp;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Button</span> /&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&#123;showButton &amp;&amp; (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Button</span> /&gt;</span></span></span><br><span class="line">)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&#123;showButton &amp;&amp; <span class="language-xml"><span class="tag">&lt;<span class="name">Button</span> /&gt;</span></span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="空格" class="article-heading"><a href="#空格" class="headerlink" title="空格"></a>空格<a class="article-anchor" href="#空格" aria-hidden="true"></a></h3><ul>
<li>自闭合的标签前要加一个空格，eslint: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://eslint.org/docs/rules/no-multi-spaces">no-multi-spaces</a>, <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-tag-spacing.md">react&#x2F;jsx-tag-spacing</a></li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;<span class="title class_">Foo</span>/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// very bad</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span>                 /&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml"> /&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span> /&gt;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li>不要在 JSX 的花括号里边加空格，eslint: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-curly-spacing.md">react&#x2F;jsx-curly-spacing</a></li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;<span class="title class_">Foo</span> bar=&#123; baz &#125; /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span> <span class="attr">bar</span>=<span class="string">&#123;baz&#125;</span> /&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="引号" class="article-heading"><a href="#引号" class="headerlink" title="引号"></a>引号<a class="article-anchor" href="#引号" aria-hidden="true"></a></h3><p>JSX 属性要使用单引号，与其他普通 JS 保持一致</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;<span class="title class_">Foo</span> bar=<span class="string">&quot;bar&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span> <span class="attr">bar</span>=<span class="string">&#x27;bar&#x27;</span> /&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">left:</span> &quot;<span class="attr">20px</span>&quot; &#125;&#125; /&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">left:</span> &#x27;<span class="attr">20px</span>&#x27; &#125;&#125; /&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="属性" class="article-heading"><a href="#属性" class="headerlink" title="属性"></a>属性<a class="article-anchor" href="#属性" aria-hidden="true"></a></h3><ul>
<li>属性名使用 CamelCase</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;<span class="title class_">Foo</span></span><br><span class="line">  <span class="title class_">UserName</span>=<span class="string">&#x27;hello&#x27;</span></span><br><span class="line">  phone_number=&#123;<span class="number">12345678</span>&#125;</span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">userName</span>=<span class="string">&#x27;hello&#x27;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">phoneNumber</span>=<span class="string">&#123;12345678&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">/&gt;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li>当属性值为true时可以省略， eslint: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-boolean-value.md">react&#x2F;jsx-boolean-value</a></li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;<span class="title class_">Foo</span></span><br><span class="line">  hidden=&#123;<span class="literal">true</span>&#125;</span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">hidden</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">/&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span> <span class="attr">hidden</span> /&gt;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li>避免使用数组的索引作为 key 属性值, 建议使用稳定的ID，eslint: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-array-index-key.md">react&#x2F;no-array-index-key</a></li>
</ul>
<blockquote>
<p>原因：不使用稳定的 ID 会对性能产生副作用并且组件状态会出问题，是一种<a target="_blank" rel="noopener external nofollow noreferrer" href="https://medium.com/@robinpokorny/index-as-a-key-is-an-anti-pattern-e0349aece318">反模式</a></p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&#123;todos.<span class="title function_">map</span>(<span class="function">(<span class="params">todo, index</span>) =&gt;</span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Todo</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    &#123;<span class="attr">...todo</span>&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">key</span>=<span class="string">&#123;index&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  /&gt;</span></span></span><br><span class="line">)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">&#123;todos.<span class="title function_">map</span>(<span class="function"><span class="params">todo</span> =&gt;</span> (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Todo</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    &#123;<span class="attr">...todo</span>&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">key</span>=<span class="string">&#123;todo.id&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  /&gt;</span></span></span><br><span class="line">))&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>为所有的非必需属性定义使用 defaultProps 明确的默认值</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">SFC</span> (<span class="params">&#123; foo, bar, children &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;foo&#125;&#123;bar&#125;&#123;children&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable constant_">SFC</span>.<span class="property">propTypes</span> = &#123;</span><br><span class="line">  <span class="attr">foo</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span>.<span class="property">isRequired</span>,</span><br><span class="line">  <span class="attr">bar</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>,</span><br><span class="line">  <span class="attr">children</span>: <span class="title class_">PropTypes</span>.<span class="property">node</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">SFC</span> (<span class="params">&#123; foo, bar, children &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;foo&#125;&#123;bar&#125;&#123;children&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable constant_">SFC</span>.<span class="property">propTypes</span> = &#123;</span><br><span class="line">  <span class="attr">foo</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span>.<span class="property">isRequired</span>,</span><br><span class="line">  <span class="attr">bar</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>,</span><br><span class="line">  <span class="attr">children</span>: <span class="title class_">PropTypes</span>.<span class="property">node</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable constant_">SFC</span>.<span class="property">defaultProps</span> = &#123;</span><br><span class="line">  <span class="attr">bar</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">children</span>: <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Refs" class="article-heading"><a href="#Refs" class="headerlink" title="Refs"></a>Refs<a class="article-anchor" href="#Refs" aria-hidden="true"></a></h3><p>避免使用字符串引用，请使用回调函数作为引用，eslint: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-string-refs.md">react&#x2F;no-string-refs</a></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;<span class="title class_">Foo</span></span><br><span class="line">  ref=<span class="string">&#x27;myRef&#x27;</span></span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">ref</span>=<span class="string">&#123;ref</span> =&gt;</span> &#123; this.myRef = ref &#125;&#125;</span></span><br><span class="line"><span class="language-xml">/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="圆括号" class="article-heading"><a href="#圆括号" class="headerlink" title="圆括号"></a>圆括号<a class="article-anchor" href="#圆括号" aria-hidden="true"></a></h3><p>当 JSX 标签超过一行时使用圆括号包裹， eslint: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/wrap-multilines.md">react&#x2F;wrap-multilines</a></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="title function_">render</span> () &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">MyComponent</span> <span class="attr">className</span>=<span class="string">&#x27;long body&#x27;</span> <span class="attr">foo</span>=<span class="string">&#x27;bar&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">           <span class="tag">&lt;<span class="name">MyChild</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">         <span class="tag">&lt;/<span class="name">MyComponent</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="title function_">render</span> () &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">MyComponent</span> <span class="attr">className</span>=<span class="string">&#x27;long body&#x27;</span> <span class="attr">foo</span>=<span class="string">&#x27;bar&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">MyChild</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">MyComponent</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good, when single line</span></span><br><span class="line"><span class="title function_">render</span> () &#123;</span><br><span class="line">  <span class="keyword">const</span> body = <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">MyComponent</span>&gt;</span>&#123;body&#125;<span class="tag">&lt;/<span class="name">MyComponent</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="标签" class="article-heading"><a href="#标签" class="headerlink" title="标签"></a>标签<a class="article-anchor" href="#标签" aria-hidden="true"></a></h3><ul>
<li>没有子元素的标签请自闭合，eslint: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/self-closing-comp.md">react&#x2F;self-closing-comp</a></li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;<span class="title class_">Foo</span> className=<span class="string">&#x27;stuff&#x27;</span>&gt;&lt;/<span class="title class_">Foo</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span> <span class="attr">className</span>=<span class="string">&#x27;stuff&#x27;</span> /&gt;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li>如果组件包含多行属性，在新的一行闭合标签，eslint: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-closing-bracket-location.md">react&#x2F;jsx-closing-bracket-location</a></li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">&lt;<span class="title class_">Foo</span></span><br><span class="line">  bar=<span class="string">&#x27;bar&#x27;</span></span><br><span class="line">  baz=<span class="string">&#x27;baz&#x27;</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Foo</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">bar</span>=<span class="string">&#x27;bar&#x27;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">baz</span>=<span class="string">&#x27;baz&#x27;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">/&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="方法" class="article-heading"><a href="#方法" class="headerlink" title="方法"></a>方法<a class="article-anchor" href="#方法" aria-hidden="true"></a></h3><ul>
<li>使用箭头函数包裹本地变量</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ItemList</span> (<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;props.items.map((item, index) =&gt; (</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Item</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">key</span>=<span class="string">&#123;item.key&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> doSomethingWith(item.name, index)&#125;</span></span><br><span class="line"><span class="language-xml">        /&gt;</span></span><br><span class="line"><span class="language-xml">      ))&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>类组件的内部方法不要使用下划线前缀</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">extends</span> <span class="title class_">React</span>.<span class="property">Component</span> &#123;</span><br><span class="line">  <span class="title function_">_onClickSubmit</span> () &#123;</span><br><span class="line">    <span class="comment">// do stuff</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// other stuff</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">extends</span> <span class="title class_">React</span>.<span class="property">Component</span> &#123;</span><br><span class="line">  <span class="title function_">onClickSubmit</span> () &#123;</span><br><span class="line">    <span class="comment">// do stuff</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// other stuff</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>确保在 render 方法中存在返回值，eslint: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yannickcr/eslint-plugin-react/pull/502">require-render-return</a></li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="title function_">render</span> () &#123;</span><br><span class="line">  (<span class="language-xml"><span class="tag">&lt;<span class="name">div</span> /&gt;</span></span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="title function_">render</span> () &#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="language-xml"><span class="tag">&lt;<span class="name">div</span> /&gt;</span></span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Hooks-书写规范" class="article-heading"><a href="#Hooks-书写规范" class="headerlink" title="Hooks 书写规范"></a>Hooks 书写规范<a class="article-anchor" href="#Hooks-书写规范" aria-hidden="true"></a></h3><ul>
<li><p>Hooks 只能应用与函数式组件中</p>
</li>
<li><p>在函数组件最开始的地方声明所有 Hooks</p>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="keyword">function</span> <span class="title function_">persistForm</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;formData&#x27;</span>, accountName)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">const</span> x = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line">  <span class="keyword">const</span> [timer, setTimer] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// main logic</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="keyword">function</span> <span class="title function_">persistForm</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;formData&#x27;</span>, accountName)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">const</span> [timer, setTimer] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> x = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line">  <span class="comment">// main logic</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2024-10-23T03:38:37.824Z" itemprop="dateModified">上次更新：2024-10-23</time>
                <a href="index.html" class="article-footer-next" title="概述"><span>下一页</span><i class="fa fa-chevron-right"></i></a>
              </footer>
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">目录</strong>
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#React-amp-JSX-%E4%B9%A6%E5%86%99%E8%A7%84%E8%8C%83"><span class="toc-text">React&amp;JSX 书写规范</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%A7%84%E5%88%99"><span class="toc-text">基本规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-text">命名规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Class-Component-VS-Functional-Component"><span class="toc-text">Class Component VS Functional Component</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E9%BD%90"><span class="toc-text">对齐</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E6%A0%BC"><span class="toc-text">空格</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E5%8F%B7"><span class="toc-text">引号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-text">属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Refs"><span class="toc-text">Refs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%86%E6%8B%AC%E5%8F%B7"><span class="toc-text">圆括号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE"><span class="toc-text">标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-text">方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hooks-%E4%B9%A6%E5%86%99%E8%A7%84%E8%8C%83"><span class="toc-text">Hooks 书写规范</span></a></li></ol></li></ol>
              <a href="#" id="article-toc-top">回到顶部</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner">
    <strong class="sidebar-title">开始使用</strong><a href="/standard/index.html" class="sidebar-link">概述</a><strong class="sidebar-title">HTML 规范</strong><a href="/standard/html/code.html" class="sidebar-link">代码规范</a><a href="/standard/html/note.html" class="sidebar-link">注释规范</a><a href="/standard/html/webapp.html" class="sidebar-link">WebApp Meta</a><a href="/standard/html/template.html" class="sidebar-link">文件模版</a><strong class="sidebar-title">CSS 规范</strong><a href="/standard/css/code.html" class="sidebar-link">代码规范</a><a href="/standard/css/note.html" class="sidebar-link">注释规范</a><a href="/standard/css/less.html" class="sidebar-link">LESS 规范</a><a href="/standard/css/reset.html" class="sidebar-link">重置样式</a><a href="/standard/css/query.html" class="sidebar-link">媒体查询</a><a href="/standard/css/webkit.html" class="sidebar-link">浏览器兼容性</a><strong class="sidebar-title">javascript 规范</strong><a href="/standard/js/code.html" class="sidebar-link">代码规范</a><a href="/standard/js/language.html" class="sidebar-link">语法规范</a><strong class="sidebar-title">图片规范</strong><a href="/standard/image/format.html" class="sidebar-link">图片格式</a><a href="/standard/image/size.html" class="sidebar-link">图片大小</a><a href="/standard/image/quality.html" class="sidebar-link">图片质量</a><a href="/standard/image/import.html" class="sidebar-link">图片引入</a><strong class="sidebar-title">命名规范</strong><a href="/standard/name/dir.html" class="sidebar-link">目录命名</a><a href="/standard/name/image.html" class="sidebar-link">图片命名</a><a href="/standard/name/htmlcss.html" class="sidebar-link">HTML/CSS 命名</a><a href="/standard/name/classname.html" class="sidebar-link">ClassName 命名</a><strong class="sidebar-title">前端开发公约</strong><a href="/standard/project/vue.html" class="sidebar-link">vue开发规范</a><a href="/standard/project/react.html" class="sidebar-link current">react开发规范</a><a href="/standard/project/structure.html" class="sidebar-link">代码结构</a><a href="/standard/project/rule.html" class="sidebar-link">项目开发约定</a><a href="/standard/project/ci_cd.html" class="sidebar-link">持续集成</a><a href="/standard/project/template.html" class="sidebar-link">模板工程</a>
  </div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2024 <a href="https://github.com/hexojs/hexo/graphs/contributors" rel="external nofollow noreferrer" target="_blank">zuo.jiangtao@h3c.com/ZuoJiangtao</a><br>
      Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>.
    </div>
    <div id="footer-links">
      <a href="https://github.com/Zuojiangtao" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="fa fa-github"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/standard/" class="mobile-nav-link">开发规范</a><a href="/design/" class="mobile-nav-link">开发指南</a><a href="/ecology/" class="mobile-nav-link">前沿生态</a><a href="/util/" class="mobile-nav-link">开发工具</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/https://github.com/Zuojiangtao" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">开始使用</strong><a href="/standard/index.html" class="mobile-nav-link">概述</a><strong class="mobile-nav-title">HTML 规范</strong><a href="/standard/html/code.html" class="mobile-nav-link">代码规范</a><a href="/standard/html/note.html" class="mobile-nav-link">注释规范</a><a href="/standard/html/webapp.html" class="mobile-nav-link">WebApp Meta</a><a href="/standard/html/template.html" class="mobile-nav-link">文件模版</a><strong class="mobile-nav-title">CSS 规范</strong><a href="/standard/css/code.html" class="mobile-nav-link">代码规范</a><a href="/standard/css/note.html" class="mobile-nav-link">注释规范</a><a href="/standard/css/less.html" class="mobile-nav-link">LESS 规范</a><a href="/standard/css/reset.html" class="mobile-nav-link">重置样式</a><a href="/standard/css/query.html" class="mobile-nav-link">媒体查询</a><a href="/standard/css/webkit.html" class="mobile-nav-link">浏览器兼容性</a><strong class="mobile-nav-title">javascript 规范</strong><a href="/standard/js/code.html" class="mobile-nav-link">代码规范</a><a href="/standard/js/language.html" class="mobile-nav-link">语法规范</a><strong class="mobile-nav-title">图片规范</strong><a href="/standard/image/format.html" class="mobile-nav-link">图片格式</a><a href="/standard/image/size.html" class="mobile-nav-link">图片大小</a><a href="/standard/image/quality.html" class="mobile-nav-link">图片质量</a><a href="/standard/image/import.html" class="mobile-nav-link">图片引入</a><strong class="mobile-nav-title">命名规范</strong><a href="/standard/name/dir.html" class="mobile-nav-link">目录命名</a><a href="/standard/name/image.html" class="mobile-nav-link">图片命名</a><a href="/standard/name/htmlcss.html" class="mobile-nav-link">HTML/CSS 命名</a><a href="/standard/name/classname.html" class="mobile-nav-link">ClassName 命名</a><strong class="mobile-nav-title">前端开发公约</strong><a href="/standard/project/vue.html" class="mobile-nav-link">vue开发规范</a><a href="/standard/project/react.html" class="mobile-nav-link current">react开发规范</a><a href="/standard/project/structure.html" class="mobile-nav-link">代码结构</a><a href="/standard/project/rule.html" class="mobile-nav-link">项目开发约定</a><a href="/standard/project/ci_cd.html" class="mobile-nav-link">持续集成</a><a href="/standard/project/template.html" class="mobile-nav-link">模板工程</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>简体中文</span></span>
    <select id="mobile-lang-select" data-canonical="">
      
        <option value="zh-cn" selected>简体中文</option>
      
        <option value="en">English</option>
      
    </select>
  </div>
</nav>
</body>
</html>
